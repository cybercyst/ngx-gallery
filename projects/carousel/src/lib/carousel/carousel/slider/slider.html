<cdk-virtual-scroll-viewport [orientation]="orientation"
                             [itemSize]="itemSize"
                             (scrolledIndexChange)="scrollIndexChange.emit(state)"
                             (resizeSensor)="viewPort.scrollToIndex(state?.activePage)"
                             [sensorThrottleTime]="sensorThrottleTime"
                             [sensorDisabled]="sensorDisabled">
  <div *cdkVirtualFor="let page of state?.pages"
       class="carousel-page"
       [style.width.px]="itemWidth"
       [style.height.px]="itemHeight"
       [class.carousel-page-active]="page.index === state.activePage">

    <div *ngFor="let item of page.items"
         class="carousel-item"
         [class.carousel-item-active]="item.index === state.activeItem"
         (tapClick)="itemClick.emit(item.index)">
      <ng-container [ngTemplateOutlet]="item.template"></ng-container>
    </div>
  </div>
</cdk-virtual-scroll-viewport>
